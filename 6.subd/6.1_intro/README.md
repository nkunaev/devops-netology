## Типы и струТипы и структура СУБД

### Задание 1

* электронные чеки в json-виде;
  * Учитывая, что ханить придется документы в формате json, имеющие определенную структуру,
то подойдет документоориентированная СУБД, например: MongoDB, CouchDB. eXist или MarkLogic не подходят, тк работают с XML форматом.
* склады и автомобильные дороги для логистической компании;
  * Указанная информация является слабоструктурированной, а хранимая информация содержит различные параметры. На мой взгляд
наилучшим образом подойдут noSQL БД вида "ключ-значение", например: Redis, Memcached,Riak.
* генеалогические деревья:
  * В данном случае нужно будет искать связи между различными блоками данных, значит нужна БД для работы с графами, например: 
Hyper, GraphDB, IndraDB, InfoGrid или Neo4j.
* кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
  * Информация не чувствительная к потере, хранящая атрибуты в ввиде ключ-значение, на мой взгляд подойдет либо Реис, либо легковесный memcached.
* отношения клиент-покупка для интернет-магазина.
  * Речь идет за отношения, соответственно наличие жесткой связи между клиентом, заказом, товаром и оплатой, наш выбор - реляционная БД,
например PostgreSQL, MySQL, MariaDB, SQLite.

### Задание 2


* данные записываются на все узлы с задержкой до часа (асинхронная запись);
  * САР. Учитывая, что в параметрах опущен момент с устойчивостью к разделению, то указанная модель похожа на
СА (доступность и согласованность) в ущерб устойчивости к разделению.
  * PACELC. Учитывая, что тут идет принебрежение согласованностью, то скорее всего модель  ЕС(согласованность)доступность и устойчивость к разделению
  и EL (В отстствие раздеения делается упор в сторону уменьшения задержек).
* при сетевых сбоях система может разделиться на 2 раздельных кластера;
  * САР. АР (доступность и устойчивость к разделению) - не гарантирует целостность данных, обеспечивая их доступность и устойчивость к разделению
  * PACELC. На мой взгляд модель будет - РА (устойчивость к разделению)/EL
* система может не прислать корректный ответ или сбросить соединение.
  * САР. Модель СР. В каждый момент обеспечивается целостность данных и способна работать в условиях распада в ущерб доступности, не выдавая отклик на запрос.
  * PACELC. РС/ЕС - делается упор на согласованность даннных.


### Задание 3

Несмотря на то, что клиенты хотели бы совместить в одном продукте производительность и отказоустойчивость, но
пока это остается тем, к чему стоит стремиться, поэтому приходится искать компромиссы. ACID и BASE теоремы по сути являются
противоположными друг-другу, тк обеспечение согласованности данных между распределенными системами
накладывает ограничения на производительность, предъявляет высокие требования к среде передачи данных, а также требует
решать вопросы, связанные с архитектурой приложения и принципами работы самой БД.

### Задание 4

На мой взгляд наиболее отвечающим заданным условиям будет решение на базе Redis, по следующим причинам:
* Может работать как БД типа "ключ-значние" и как кэш-система или как брокер сообщений;
* Воможности pub/sub позволяют работать с подпичиками в режимах one-to-one & one-to-many;
* Данным можно присваивать TTL;
* Поддерживает репликацию;
* Начиная с версии 3.0 поддерживает режим работы "кластер", который выполняет все задачи по шардингу, репликации, failover, синхронизации данных, но
требует как минимум 6 нод Reedis-а: три для мастеров, и три для слейвов. Умеет перенаправлять запросы от клиентов на нужный мастер или слейв – но это требует поддержки кластера самими клиентами Redis.

Из недостатков можно выделить следующее:

* Для увеличения производительности имеет место практика отключения периодической выгрузки данных на диск, в результате чего можно выстрелить себе в ногу,
когда сервер упадет и после перезапуска поднимется с чистой БД, а потом засинхонит изменения со слейвами, однако в вышеупомянутом варианте этот сценарий не грозит.
* Данные хранятся в оперативной памяти, таким образом из-за внезапного выключения данные могут быть утрачены.
* Из-за того, что данные хранятся в оперативной памяти, отсутствует их сегментация, и нет возможности разграничивать доступ к данным
* Также механизм Pub/Sub не обеспечивает гарантию доставки сообщения, поскольку отсутствует очередь сообщений